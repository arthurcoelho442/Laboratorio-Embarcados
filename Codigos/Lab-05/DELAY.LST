     1                                  ;-----------------------------------------------------------------------------
     2                                  ;
     3                                  ; Função delay
     4                                  ; velocidade CALL delay;
     5                                  ;
     6                                  global delay
     7                                  
     8                                  extern plot_xy, line, velocidade
     9                                  	
    10                                  delay: ; Esteja atento pois talvez seja importante salvar contexto (no caso, CX, o que NÃO foi feito aqui).
    11 00000000 8B0E[0000]              	mov cx, word [velocidade] ; Carrega “velocidade” em cx (contador para loop)
    12                                  del2:
    13 00000004 51                      	push cx ; Coloca cx na pilha para usa-lo em outro loop
    14 00000005 B90008                  	mov cx, 0800h ; Teste modificando este valor
    15                                  del1:
    16 00000008 E2FE                    	loop del1 ; No loop del1, cx é decrementado até que volte a ser zero
    17 0000000A 59                      	pop cx ; Recupera cx da pilha
    18 0000000B E2F7                    	loop del2 ; No loop del2, cx é decrementado até que seja zero
    19 0000000D C3                      	ret
    20                                  %include "Data.asm"
    21                              <1> segment data
    22                              <1> 
    23 00000000 0F                  <1> cor		db		branco_intenso
    24                              <1> 
    25                              <1> ;	I R G B COR
    26                              <1> ;	0 0 0 0 preto
    27                              <1> ;	0 0 0 1 azul
    28                              <1> ;	0 0 1 0 verde
    29                              <1> ;	0 0 1 1 cyan
    30                              <1> ;	0 1 0 0 vermelho
    31                              <1> ;	0 1 0 1 magenta
    32                              <1> ;	0 1 1 0 marrom
    33                              <1> ;	0 1 1 1 branco
    34                              <1> ;	1 0 0 0 cinza
    35                              <1> ;	1 0 0 1 azul claro
    36                              <1> ;	1 0 1 0 verde claro
    37                              <1> ;	1 0 1 1 cyan claro
    38                              <1> ;	1 1 0 0 rosa
    39                              <1> ;	1 1 0 1 magenta claro
    40                              <1> ;	1 1 1 0 amarelo
    41                              <1> ;	1 1 1 1 branco intenso
    42                              <1> 
    43                              <1> preto		    equ		0
    44                              <1> azul		    equ		1
    45                              <1> verde		    equ		2
    46                              <1> cyan		    equ		3
    47                              <1> vermelho	    equ		4
    48                              <1> magenta		    equ		5
    49                              <1> marrom		    equ		6
    50                              <1> branco		    equ		7
    51                              <1> cinza		    equ		8
    52                              <1> azul_claro	    equ		9
    53                              <1> verde_claro	    equ		10
    54                              <1> cyan_claro	    equ		11
    55                              <1> rosa		    equ		12
    56                              <1> magenta_claro	equ		13
    57                              <1> amarelo		    equ		14
    58                              <1> branco_intenso	equ		15
    59                              <1> 
    60 00000001 00                  <1> modo_anterior	db		0
    61 00000002 0000                <1> linha   	    dw  	0
    62 00000004 0000                <1> coluna  	    dw  	0
    63 00000006 0000                <1> deltax		    dw		0
    64 00000008 0000                <1> deltay		    dw		0	
    65 0000000A 46756EC3A7C3A36F20- <1> mens    	    db  	'Função Gráfica Sistemas Embarcados I $' 
    66 00000013 4772C3A16669636120- <1>
    67 0000001C 53697374656D617320- <1>
    68 00000025 456D6261726361646F- <1>
    69 0000002E 7320492024          <1>
